{"ast":null,"code":"import _objectSpread from\"C:/Users/LENOVO/Documents/Vodafone/Project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdaptiveQuiz=_ref=>{let{user}=_ref;const[quiz,setQuiz]=useState([]);const[answers,setAnswers]=useState({});const[result,setResult]=useState(null);useEffect(()=>{const load=async()=>{try{const res=await api.requestAIQuiz({user_id:user===null||user===void 0?void 0:user.id,num_questions:5});setQuiz(res.quiz||[]);}catch(e){console.error(e);}};load();},[user]);const handleChange=(qidx,choiceId)=>{setAnswers(prev=>_objectSpread(_objectSpread({},prev),{},{[qidx]:choiceId}));};const submit=()=>{// simple grading client-side using returned correct_choice_id\nlet correct=0;quiz.forEach((q,idx)=>{const ans=answers[idx];if(ans!=null&&ans===q.correct_choice_id)correct++;});setResult({correct,total:quiz.length});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl text-white font-bold mb-4\",children:\"Adaptive Quiz\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:quiz.map((q,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 p-3 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-white mb-2\",children:[i+1,\". \",q.question]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col\",children:q.choices.map(c=>/*#__PURE__*/_jsxs(\"label\",{className:\"text-gray-300\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"q-\".concat(i),onChange:()=>handleChange(i,c.id)}),\" \",c.text]},c.id))})]},q.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:submit,className:\"px-4 py-2 bg-blue-600 rounded text-white\",children:\"Submit\"})}),result&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-gray-300\",children:[\"Score: \",result.correct,\" / \",result.total]})]});};export default AdaptiveQuiz;","map":{"version":3,"names":["React","useEffect","useState","api","jsx","_jsx","jsxs","_jsxs","AdaptiveQuiz","_ref","user","quiz","setQuiz","answers","setAnswers","result","setResult","load","res","requestAIQuiz","user_id","id","num_questions","e","console","error","handleChange","qidx","choiceId","prev","_objectSpread","submit","correct","forEach","q","idx","ans","correct_choice_id","total","length","children","className","map","i","question","choices","c","type","name","concat","onChange","text","onClick"],"sources":["C:/Users/LENOVO/Documents/Vodafone/Project/frontend/src/pages/AdaptiveQuiz.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../services/api';\r\n\r\nconst AdaptiveQuiz = ({ user }) => {\r\n  const [quiz, setQuiz] = useState([]);\r\n  const [answers, setAnswers] = useState({});\r\n  const [result, setResult] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const load = async () => {\r\n      try {\r\n        const res = await api.requestAIQuiz({ user_id: user?.id, num_questions: 5 });\r\n        setQuiz(res.quiz || []);\r\n      } catch (e) { console.error(e); }\r\n    };\r\n    load();\r\n  }, [user]);\r\n\r\n  const handleChange = (qidx, choiceId) => {\r\n    setAnswers(prev => ({ ...prev, [qidx]: choiceId }));\r\n  };\r\n\r\n  const submit = () => {\r\n    // simple grading client-side using returned correct_choice_id\r\n    let correct = 0;\r\n    quiz.forEach((q, idx) => {\r\n      const ans = answers[idx];\r\n      if (ans != null && ans === q.correct_choice_id) correct++;\r\n    });\r\n    setResult({ correct, total: quiz.length });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-2xl text-white font-bold mb-4\">Adaptive Quiz</h2>\r\n      <div className=\"space-y-4\">\r\n        {quiz.map((q, i) => (\r\n          <div key={q.id} className=\"bg-white/5 p-3 rounded\">\r\n            <div className=\"text-white mb-2\">{i+1}. {q.question}</div>\r\n            <div className=\"flex flex-col\">\r\n              {q.choices.map((c) => (\r\n                <label key={c.id} className=\"text-gray-300\">\r\n                  <input type=\"radio\" name={`q-${i}`} onChange={() => handleChange(i, c.id)} /> {c.text}\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"mt-4\">\r\n        <button onClick={submit} className=\"px-4 py-2 bg-blue-600 rounded text-white\">Submit</button>\r\n      </div>\r\n      {result && <div className=\"mt-4 text-gray-300\">Score: {result.correct} / {result.total}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdaptiveQuiz;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}