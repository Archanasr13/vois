{"ast":null,"code":"// API service using axios if available; falls back to fetch when axios is not installed.\n// Axios baseURL is intentionally set to http://localhost:5000 to point to the Flask backend.\nlet axiosInstance = null;\nlet useAxios = false;\ntry {\n  // try to require axios (works in CRA environment)\n  // eslint-disable-next-line global-require\n  const axios = require('axios');\n  axiosInstance = axios.create({\n    baseURL: 'http://localhost:5000'\n  });\n  useAxios = true;\n} catch (e) {\n  // axios not installed; we'll use fetch with absolute URLs\n  useAxios = false;\n}\nconst handleFetchResponse = async res => {\n  const contentType = res.headers.get('content-type') || '';\n  if (!res.ok) {\n    const text = await res.text();\n    const err = new Error(text || `HTTP ${res.status}`);\n    err.status = res.status;\n    throw err;\n  }\n  if (contentType.includes('application/json')) return res.json();\n  if (contentType.includes('application/pdf') || contentType.includes('application/octet-stream')) return res.blob();\n  return res.text();\n};\n\n// Helper wrappers\nconst post = async (path, data) => {\n  if (useAxios && axiosInstance) {\n    const res = await axiosInstance.post(path, data);\n    return res.data;\n  }\n  const res = await fetch(`http://localhost:5000${path}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data || {})\n  });\n  return handleFetchResponse(res);\n};\nconst get = async path => {\n  if (useAxios && axiosInstance) {\n    const res = await axiosInstance.get(path);\n    return res.data;\n  }\n  const res = await fetch(`http://localhost:5000${path}`);\n  return handleFetchResponse(res);\n};\n\n// Exported API methods (minimal set used by the app)\nexport const authRegister = payload => post('/api/auth/register', payload);\nexport const authLogin = payload => post('/api/auth/login', payload);\nexport const getRandomSimulation = () => get('/api/simulate_attack');\nexport const submitSimulation = payload => post('/api/submit_interaction', payload);\nexport const requestCertificate = payload => post('/api/certificate', payload);\nexport const getAIReport = params => post('/api/ai/report', params || {});\nexport const requestAIQuiz = payload => post('/api/ai/quiz', payload);\nexport const requestAIAwareness = payload => post('/api/ai/awareness', payload);\nexport const healthCheck = () => get('/api/health');\nexport default {\n  authRegister,\n  authLogin,\n  getRandomSimulation,\n  submitSimulation,\n  requestCertificate,\n  getAIReport,\n  requestAIQuiz,\n  requestAIAwareness,\n  healthCheck\n};","map":{"version":3,"names":["axiosInstance","useAxios","axios","require","create","baseURL","e","handleFetchResponse","res","contentType","headers","get","ok","text","err","Error","status","includes","json","blob","post","path","data","fetch","method","body","JSON","stringify","authRegister","payload","authLogin","getRandomSimulation","submitSimulation","requestCertificate","getAIReport","params","requestAIQuiz","requestAIAwareness","healthCheck"],"sources":["C:/Users/LENOVO/Documents/Vodafone/Project/frontend/src/services/api.js"],"sourcesContent":["// API service using axios if available; falls back to fetch when axios is not installed.\r\n// Axios baseURL is intentionally set to http://localhost:5000 to point to the Flask backend.\r\nlet axiosInstance = null;\r\nlet useAxios = false;\r\ntry {\r\n  // try to require axios (works in CRA environment)\r\n  // eslint-disable-next-line global-require\r\n  const axios = require('axios');\r\n  axiosInstance = axios.create({ baseURL: 'http://localhost:5000' });\r\n  useAxios = true;\r\n} catch (e) {\r\n  // axios not installed; we'll use fetch with absolute URLs\r\n  useAxios = false;\r\n}\r\n\r\nconst handleFetchResponse = async (res) => {\r\n  const contentType = res.headers.get('content-type') || '';\r\n  if (!res.ok) {\r\n    const text = await res.text();\r\n    const err = new Error(text || `HTTP ${res.status}`);\r\n    err.status = res.status;\r\n    throw err;\r\n  }\r\n  if (contentType.includes('application/json')) return res.json();\r\n  if (contentType.includes('application/pdf') || contentType.includes('application/octet-stream')) return res.blob();\r\n  return res.text();\r\n};\r\n\r\n// Helper wrappers\r\nconst post = async (path, data) => {\r\n  if (useAxios && axiosInstance) {\r\n    const res = await axiosInstance.post(path, data);\r\n    return res.data;\r\n  }\r\n  const res = await fetch(`http://localhost:5000${path}`, {\r\n    method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data || {})\r\n  });\r\n  return handleFetchResponse(res);\r\n};\r\n\r\nconst get = async (path) => {\r\n  if (useAxios && axiosInstance) {\r\n    const res = await axiosInstance.get(path);\r\n    return res.data;\r\n  }\r\n  const res = await fetch(`http://localhost:5000${path}`);\r\n  return handleFetchResponse(res);\r\n};\r\n\r\n// Exported API methods (minimal set used by the app)\r\nexport const authRegister = (payload) => post('/api/auth/register', payload);\r\nexport const authLogin = (payload) => post('/api/auth/login', payload);\r\nexport const getRandomSimulation = () => get('/api/simulate_attack');\r\nexport const submitSimulation = (payload) => post('/api/submit_interaction', payload);\r\nexport const requestCertificate = (payload) => post('/api/certificate', payload);\r\n\r\nexport const getAIReport = (params) => post('/api/ai/report', params || {});\r\nexport const requestAIQuiz = (payload) => post('/api/ai/quiz', payload);\r\nexport const requestAIAwareness = (payload) => post('/api/ai/awareness', payload);\r\n\r\nexport const healthCheck = () => get('/api/health');\r\n\r\nexport default { authRegister, authLogin, getRandomSimulation, submitSimulation, requestCertificate, getAIReport, requestAIQuiz, requestAIAwareness, healthCheck };\r\n"],"mappings":"AAAA;AACA;AACA,IAAIA,aAAa,GAAG,IAAI;AACxB,IAAIC,QAAQ,GAAG,KAAK;AACpB,IAAI;EACF;EACA;EACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;EAC9BH,aAAa,GAAGE,KAAK,CAACE,MAAM,CAAC;IAAEC,OAAO,EAAE;EAAwB,CAAC,CAAC;EAClEJ,QAAQ,GAAG,IAAI;AACjB,CAAC,CAAC,OAAOK,CAAC,EAAE;EACV;EACAL,QAAQ,GAAG,KAAK;AAClB;AAEA,MAAMM,mBAAmB,GAAG,MAAOC,GAAG,IAAK;EACzC,MAAMC,WAAW,GAAGD,GAAG,CAACE,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE;EACzD,IAAI,CAACH,GAAG,CAACI,EAAE,EAAE;IACX,MAAMC,IAAI,GAAG,MAAML,GAAG,CAACK,IAAI,CAAC,CAAC;IAC7B,MAAMC,GAAG,GAAG,IAAIC,KAAK,CAACF,IAAI,IAAI,QAAQL,GAAG,CAACQ,MAAM,EAAE,CAAC;IACnDF,GAAG,CAACE,MAAM,GAAGR,GAAG,CAACQ,MAAM;IACvB,MAAMF,GAAG;EACX;EACA,IAAIL,WAAW,CAACQ,QAAQ,CAAC,kBAAkB,CAAC,EAAE,OAAOT,GAAG,CAACU,IAAI,CAAC,CAAC;EAC/D,IAAIT,WAAW,CAACQ,QAAQ,CAAC,iBAAiB,CAAC,IAAIR,WAAW,CAACQ,QAAQ,CAAC,0BAA0B,CAAC,EAAE,OAAOT,GAAG,CAACW,IAAI,CAAC,CAAC;EAClH,OAAOX,GAAG,CAACK,IAAI,CAAC,CAAC;AACnB,CAAC;;AAED;AACA,MAAMO,IAAI,GAAG,MAAAA,CAAOC,IAAI,EAAEC,IAAI,KAAK;EACjC,IAAIrB,QAAQ,IAAID,aAAa,EAAE;IAC7B,MAAMQ,GAAG,GAAG,MAAMR,aAAa,CAACoB,IAAI,CAACC,IAAI,EAAEC,IAAI,CAAC;IAChD,OAAOd,GAAG,CAACc,IAAI;EACjB;EACA,MAAMd,GAAG,GAAG,MAAMe,KAAK,CAAC,wBAAwBF,IAAI,EAAE,EAAE;IACtDG,MAAM,EAAE,MAAM;IAAEd,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAAEe,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,IAAI,CAAC,CAAC;EAClG,CAAC,CAAC;EACF,OAAOf,mBAAmB,CAACC,GAAG,CAAC;AACjC,CAAC;AAED,MAAMG,GAAG,GAAG,MAAOU,IAAI,IAAK;EAC1B,IAAIpB,QAAQ,IAAID,aAAa,EAAE;IAC7B,MAAMQ,GAAG,GAAG,MAAMR,aAAa,CAACW,GAAG,CAACU,IAAI,CAAC;IACzC,OAAOb,GAAG,CAACc,IAAI;EACjB;EACA,MAAMd,GAAG,GAAG,MAAMe,KAAK,CAAC,wBAAwBF,IAAI,EAAE,CAAC;EACvD,OAAOd,mBAAmB,CAACC,GAAG,CAAC;AACjC,CAAC;;AAED;AACA,OAAO,MAAMoB,YAAY,GAAIC,OAAO,IAAKT,IAAI,CAAC,oBAAoB,EAAES,OAAO,CAAC;AAC5E,OAAO,MAAMC,SAAS,GAAID,OAAO,IAAKT,IAAI,CAAC,iBAAiB,EAAES,OAAO,CAAC;AACtE,OAAO,MAAME,mBAAmB,GAAGA,CAAA,KAAMpB,GAAG,CAAC,sBAAsB,CAAC;AACpE,OAAO,MAAMqB,gBAAgB,GAAIH,OAAO,IAAKT,IAAI,CAAC,yBAAyB,EAAES,OAAO,CAAC;AACrF,OAAO,MAAMI,kBAAkB,GAAIJ,OAAO,IAAKT,IAAI,CAAC,kBAAkB,EAAES,OAAO,CAAC;AAEhF,OAAO,MAAMK,WAAW,GAAIC,MAAM,IAAKf,IAAI,CAAC,gBAAgB,EAAEe,MAAM,IAAI,CAAC,CAAC,CAAC;AAC3E,OAAO,MAAMC,aAAa,GAAIP,OAAO,IAAKT,IAAI,CAAC,cAAc,EAAES,OAAO,CAAC;AACvE,OAAO,MAAMQ,kBAAkB,GAAIR,OAAO,IAAKT,IAAI,CAAC,mBAAmB,EAAES,OAAO,CAAC;AAEjF,OAAO,MAAMS,WAAW,GAAGA,CAAA,KAAM3B,GAAG,CAAC,aAAa,CAAC;AAEnD,eAAe;EAAEiB,YAAY;EAAEE,SAAS;EAAEC,mBAAmB;EAAEC,gBAAgB;EAAEC,kBAAkB;EAAEC,WAAW;EAAEE,aAAa;EAAEC,kBAAkB;EAAEC;AAAY,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}