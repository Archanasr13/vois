{"ast":null,"code":"import React,{useState}from'react';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CertificatePage=_ref=>{let{user}=_ref;const[loading,setLoading]=useState(false);const getCertificate=async()=>{setLoading(true);try{const blob=await api.requestCertificate({name:(user===null||user===void 0?void 0:user.name)||'Learner',score:100});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"certificate_\".concat((user===null||user===void 0?void 0:user.name)||'user',\".pdf\");document.body.appendChild(a);a.click();a.remove();window.URL.revokeObjectURL(url);}catch(e){console.error(e);alert('Unable to generate certificate.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl text-white font-bold mb-4\",children:\"Certificate\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-4\",children:\"Generate a completion certificate for your training.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:getCertificate,className:\"px-4 py-2 bg-blue-600 rounded text-white\",children:loading?'Generating...':'Download Certificate'})]});};export default CertificatePage;","map":{"version":3,"names":["React","useState","api","jsx","_jsx","jsxs","_jsxs","CertificatePage","_ref","user","loading","setLoading","getCertificate","blob","requestCertificate","name","score","url","window","URL","createObjectURL","a","document","createElement","href","download","concat","body","appendChild","click","remove","revokeObjectURL","e","console","error","alert","children","className","onClick"],"sources":["C:/Users/LENOVO/Documents/Vodafone/Project/frontend/src/pages/Certificate.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport api from '../services/api';\r\n\r\nconst CertificatePage = ({ user }) => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getCertificate = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const blob = await api.requestCertificate({ name: user?.name || 'Learner', score: 100 });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url; a.download = `certificate_${(user?.name||'user')}.pdf`;\r\n      document.body.appendChild(a); a.click(); a.remove();\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert('Unable to generate certificate.');\r\n    } finally { setLoading(false); }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-3xl text-white font-bold mb-4\">Certificate</h2>\r\n      <p className=\"text-gray-300 mb-4\">Generate a completion certificate for your training.</p>\r\n      <button onClick={getCertificate} className=\"px-4 py-2 bg-blue-600 rounded text-white\">{loading ? 'Generating...' : 'Download Certificate'}</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CertificatePage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAAc,IAAb,CAAEC,IAAK,CAAC,CAAAD,IAAA,CAC/B,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAW,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjCD,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAE,IAAI,CAAG,KAAM,CAAAX,GAAG,CAACY,kBAAkB,CAAC,CAAEC,IAAI,CAAE,CAAAN,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEM,IAAI,GAAI,SAAS,CAAEC,KAAK,CAAE,GAAI,CAAC,CAAC,CACxF,KAAM,CAAAC,GAAG,CAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACP,IAAI,CAAC,CAC5C,KAAM,CAAAQ,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCF,CAAC,CAACG,IAAI,CAAGP,GAAG,CAAEI,CAAC,CAACI,QAAQ,gBAAAC,MAAA,CAAmB,CAAAjB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEM,IAAI,GAAE,MAAM,QAAO,CACpEO,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,CAAC,CAAC,CAAEA,CAAC,CAACQ,KAAK,CAAC,CAAC,CAAER,CAAC,CAACS,MAAM,CAAC,CAAC,CACnDZ,MAAM,CAACC,GAAG,CAACY,eAAe,CAACd,GAAG,CAAC,CACjC,CAAE,MAAOe,CAAC,CAAE,CACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC,CAChBG,KAAK,CAAC,iCAAiC,CAAC,CAC1C,CAAC,OAAS,CAAExB,UAAU,CAAC,KAAK,CAAC,CAAE,CACjC,CAAC,CAED,mBACEL,KAAA,QAAA8B,QAAA,eACEhC,IAAA,OAAIiC,SAAS,CAAC,oCAAoC,CAAAD,QAAA,CAAC,aAAW,CAAI,CAAC,cACnEhC,IAAA,MAAGiC,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAAC,sDAAoD,CAAG,CAAC,cAC1FhC,IAAA,WAAQkC,OAAO,CAAE1B,cAAe,CAACyB,SAAS,CAAC,0CAA0C,CAAAD,QAAA,CAAE1B,OAAO,CAAG,eAAe,CAAG,sBAAsB,CAAS,CAAC,EAChJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}