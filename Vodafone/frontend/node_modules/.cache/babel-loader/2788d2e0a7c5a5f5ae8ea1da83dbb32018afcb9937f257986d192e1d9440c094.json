{"ast":null,"code":"// API service using axios if available; falls back to fetch when axios is not installed.\n// Axios baseURL is intentionally set to http://localhost:5000 to point to the Flask backend.\n// Prefer axios when loaded globally (e.g. developer installed it); avoid\n// requiring it at build-time to prevent webpack/bundler errors when axios\n// isn't present. To enable axios behavior, `npm install axios` and expose\n// it on `window.axios` or import it and replace the conditional below.\nlet axiosInstance=null;const useAxios=typeof window!=='undefined'&&window.axios;if(useAxios)axiosInstance=window.axios.create({baseURL:'http://localhost:5000'});const handleFetchResponse=async res=>{const contentType=res.headers.get('content-type')||'';if(!res.ok){const text=await res.text();let errorData;try{errorData=JSON.parse(text);}catch(_unused){errorData={message:text||\"HTTP \".concat(res.status)};}const err=new Error(errorData.message||text||\"HTTP \".concat(res.status));err.status=res.status;err.data=errorData;throw err;}if(contentType.includes('application/json'))return res.json();if(contentType.includes('application/pdf')||contentType.includes('application/octet-stream'))return res.blob();return res.text();};// Helper wrappers\nconst post=async(path,data)=>{if(useAxios&&axiosInstance){const res=await axiosInstance.post(path,data);return res.data;}const res=await fetch(\"http://localhost:5000\".concat(path),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data||{})});return handleFetchResponse(res);};const get=async path=>{if(useAxios&&axiosInstance){const res=await axiosInstance.get(path);return res.data;}const res=await fetch(\"http://localhost:5000\".concat(path));return handleFetchResponse(res);};// Exported API methods\nexport const authRegister=payload=>post('/api/auth/register',payload);export const authLogin=payload=>post('/api/auth/login',payload);// Phishing and simulations\nexport const getPhishingSimulation=params=>get(\"/api/phishing/simulate?\".concat(new URLSearchParams(params||{}).toString()));export const trackPhishingClick=payload=>post('/api/phishing/click',payload);export const getRandomSimulation=params=>get(\"/api/simulate_attack?\".concat(new URLSearchParams(params).toString()));export const submitSimulation=payload=>post('/api/submit_interaction',payload);// Risk & health profiles\nexport const getUserRiskProfile=userId=>get(\"/api/health/user/\".concat(userId));export const getOrganizationHealth=()=>get('/api/health/organization');export const getAwarenessContent=params=>get(\"/api/awareness/video?\".concat(new URLSearchParams(params).toString()));export const getQuizQuestions=params=>get(\"/api/get_quiz_questions?\".concat(new URLSearchParams(params).toString()));export const submitQuiz=payload=>post('/api/submit_quiz',payload);export const checkCertificateEligibility=params=>get(\"/api/certificate/check?\".concat(new URLSearchParams(params).toString()));export const requestCertificate=async payload=>{// Certificate returns PDF blob, so handle it specially\nconst res=await fetch(\"http://localhost:5000/api/certificate\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload||{})});if(!res.ok){const text=await res.text();throw new Error(text||\"HTTP \".concat(res.status));}return res.blob();};export const getDashboardData=()=>get('/api/get_dashboard_data');export const getUser=id=>get(\"/api/user/\".concat(id));export const getAIReport=params=>post('/api/ai/report',params||{});export const requestAIQuiz=payload=>post('/api/ai/quiz',payload);export const requestAIAwareness=payload=>post('/api/ai/awareness',payload);export const healthCheck=()=>get('/api/health');export default{authRegister,authLogin,getPhishingSimulation,trackPhishingClick,getRandomSimulation,submitSimulation,getUserRiskProfile,getOrganizationHealth,getAwarenessContent,getQuizQuestions,submitQuiz,checkCertificateEligibility,requestCertificate,getDashboardData,getUser,getAIReport,requestAIQuiz,requestAIAwareness,healthCheck};","map":{"version":3,"names":["axiosInstance","useAxios","window","axios","create","baseURL","handleFetchResponse","res","contentType","headers","get","ok","text","errorData","JSON","parse","_unused","message","concat","status","err","Error","data","includes","json","blob","post","path","fetch","method","body","stringify","authRegister","payload","authLogin","getPhishingSimulation","params","URLSearchParams","toString","trackPhishingClick","getRandomSimulation","submitSimulation","getUserRiskProfile","userId","getOrganizationHealth","getAwarenessContent","getQuizQuestions","submitQuiz","checkCertificateEligibility","requestCertificate","getDashboardData","getUser","id","getAIReport","requestAIQuiz","requestAIAwareness","healthCheck"],"sources":["C:/Users/LENOVO/Documents/Vodafone/Project/frontend/src/services/api.js"],"sourcesContent":["// API service using axios if available; falls back to fetch when axios is not installed.\n// Axios baseURL is intentionally set to http://localhost:5000 to point to the Flask backend.\n// Prefer axios when loaded globally (e.g. developer installed it); avoid\n// requiring it at build-time to prevent webpack/bundler errors when axios\n// isn't present. To enable axios behavior, `npm install axios` and expose\n// it on `window.axios` or import it and replace the conditional below.\nlet axiosInstance = null;\nconst useAxios = (typeof window !== 'undefined' && window.axios);\nif (useAxios) axiosInstance = window.axios.create({ baseURL: 'http://localhost:5000' });\n\nconst handleFetchResponse = async (res) => {\n  const contentType = res.headers.get('content-type') || '';\n  if (!res.ok) {\n    const text = await res.text();\n    let errorData;\n    try {\n      errorData = JSON.parse(text);\n    } catch {\n      errorData = { message: text || `HTTP ${res.status}` };\n    }\n    const err = new Error(errorData.message || text || `HTTP ${res.status}`);\n    err.status = res.status;\n    err.data = errorData;\n    throw err;\n  }\n  if (contentType.includes('application/json')) return res.json();\n  if (contentType.includes('application/pdf') || contentType.includes('application/octet-stream')) return res.blob();\n  return res.text();\n};\n\n// Helper wrappers\nconst post = async (path, data) => {\n  if (useAxios && axiosInstance) {\n    const res = await axiosInstance.post(path, data);\n    return res.data;\n  }\n  const res = await fetch(`http://localhost:5000${path}`, {\n    method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data || {})\n  });\n  return handleFetchResponse(res);\n};\n\nconst get = async (path) => {\n  if (useAxios && axiosInstance) {\n    const res = await axiosInstance.get(path);\n    return res.data;\n  }\n  const res = await fetch(`http://localhost:5000${path}`);\n  return handleFetchResponse(res);\n};\n\n// Exported API methods\nexport const authRegister = (payload) => post('/api/auth/register', payload);\nexport const authLogin = (payload) => post('/api/auth/login', payload);\n\n// Phishing and simulations\nexport const getPhishingSimulation = (params) => get(`/api/phishing/simulate?${new URLSearchParams(params || {}).toString()}`);\nexport const trackPhishingClick = (payload) => post('/api/phishing/click', payload);\nexport const getRandomSimulation = (params) => get(`/api/simulate_attack?${new URLSearchParams(params).toString()}`);\nexport const submitSimulation = (payload) => post('/api/submit_interaction', payload);\n\n// Risk & health profiles\nexport const getUserRiskProfile = (userId) => get(`/api/health/user/${userId}`);\nexport const getOrganizationHealth = () => get('/api/health/organization');\n\nexport const getAwarenessContent = (params) => get(`/api/awareness/video?${new URLSearchParams(params).toString()}`);\nexport const getQuizQuestions = (params) => get(`/api/get_quiz_questions?${new URLSearchParams(params).toString()}`);\nexport const submitQuiz = (payload) => post('/api/submit_quiz', payload);\nexport const checkCertificateEligibility = (params) => get(`/api/certificate/check?${new URLSearchParams(params).toString()}`);\nexport const requestCertificate = async (payload) => {\n  // Certificate returns PDF blob, so handle it specially\n  const res = await fetch(`http://localhost:5000/api/certificate`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload || {})\n  });\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(text || `HTTP ${res.status}`);\n  }\n  return res.blob();\n};\nexport const getDashboardData = () => get('/api/get_dashboard_data');\nexport const getUser = (id) => get(`/api/user/${id}`);\n\nexport const getAIReport = (params) => post('/api/ai/report', params || {});\nexport const requestAIQuiz = (payload) => post('/api/ai/quiz', payload);\nexport const requestAIAwareness = (payload) => post('/api/ai/awareness', payload);\n\nexport const healthCheck = () => get('/api/health');\n\nexport default { \n  authRegister, \n  authLogin, \n  getPhishingSimulation,\n  trackPhishingClick,\n  getRandomSimulation, \n  submitSimulation,\n  getUserRiskProfile,\n  getOrganizationHealth,\n  getAwarenessContent,\n  getQuizQuestions,\n  submitQuiz,\n  checkCertificateEligibility,\n  requestCertificate, \n  getDashboardData,\n  getUser,\n  getAIReport, \n  requestAIQuiz, \n  requestAIAwareness, \n  healthCheck \n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}