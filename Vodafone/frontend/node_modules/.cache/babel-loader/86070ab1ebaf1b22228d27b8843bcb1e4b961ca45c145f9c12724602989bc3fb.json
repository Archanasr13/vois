{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Documents\\\\Vodafone\\\\Project\\\\frontend\\\\src\\\\components\\\\AwarenessVideo.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AwarenessVideo = ({\n  script,\n  onComplete,\n  isVisible\n}) => {\n  _s();\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [displayedText, setDisplayedText] = useState('');\n  const speechRef = useRef(null);\n  useEffect(() => {\n    if (isVisible && script) {\n      startVideo();\n    } else {\n      stopVideo();\n    }\n    return () => stopVideo();\n  }, [isVisible, script]);\n  const startVideo = () => {\n    if (!window.speechSynthesis) {\n      console.error(\"Web Speech API not supported\");\n      onComplete();\n      return;\n    }\n\n    // Cancel any ongoing speech\n    window.speechSynthesis.cancel();\n    const utterance = new SpeechSynthesisUtterance(script);\n    utterance.rate = 1.0;\n    utterance.pitch = 1.0;\n    utterance.volume = 1.0;\n\n    // Try to select a good voice\n    const voices = window.speechSynthesis.getVoices();\n    const preferredVoice = voices.find(v => v.name.includes('Google US English') || v.name.includes('Microsoft Zira') || v.lang === 'en-US');\n    if (preferredVoice) utterance.voice = preferredVoice;\n    utterance.onstart = () => {\n      setIsSpeaking(true);\n      typeWriterEffect(script);\n    };\n    utterance.onend = () => {\n      setIsSpeaking(false);\n      setTimeout(onComplete, 2000); // Wait a bit before closing\n    };\n    utterance.onerror = e => {\n      console.error(\"Speech synthesis error\", e);\n      setIsSpeaking(false);\n      onComplete();\n    };\n    speechRef.current = utterance;\n    // Small delay to ensure voices are loaded\n    setTimeout(() => window.speechSynthesis.speak(utterance), 100);\n  };\n  const stopVideo = () => {\n    if (window.speechSynthesis) {\n      window.speechSynthesis.cancel();\n    }\n    setIsSpeaking(false);\n    setDisplayedText('');\n  };\n  const typeWriterEffect = text => {\n    let i = 0;\n    setDisplayedText('');\n    const interval = setInterval(() => {\n      setDisplayedText(prev => prev + text.charAt(i));\n      i++;\n      if (i >= text.length) clearInterval(interval);\n    }, 50); // Adjust speed to match roughly with speech\n  };\n  if (!isVisible) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-90 flex flex-col items-center justify-center z-50 p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-32 h-32 rounded-full border-4 border-blue-500 flex items-center justify-center ${isSpeaking ? 'animate-pulse' : ''} shadow-[0_0_50px_rgba(59,130,246,0.5)]`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `w-24 h-24 rounded-full bg-blue-600 flex items-center justify-center relative overflow-hidden`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 bg-gradient-to-tr from-cyan-400 to-blue-600 opacity-80\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-16 h-4 bg-white rounded-full shadow-[0_0_20px_white] transition-all duration-100 ${isSpeaking ? 'h-8' : 'h-1'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), isSpeaking && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 rounded-full border border-cyan-400 animate-ping opacity-20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-[-20px] rounded-full border border-cyan-400 animate-ping opacity-10 animation-delay-200\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl w-full bg-gray-900 bg-opacity-80 p-6 rounded-xl border border-gray-700 min-h-[150px] flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl text-cyan-300 font-mono text-center leading-relaxed\",\n        children: [displayedText, /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"animate-pulse\",\n          children: \"|\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        stopVideo();\n        onComplete();\n      },\n      className: \"mt-8 px-6 py-2 bg-gray-800 hover:bg-gray-700 text-gray-400 rounded-full text-sm transition-colors border border-gray-600\",\n      children: \"Skip Video\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(AwarenessVideo, \"qS7OsFRsQp/H9b80ND+Ko6pZ/h4=\");\n_c = AwarenessVideo;\nexport default AwarenessVideo;\nvar _c;\n$RefreshReg$(_c, \"AwarenessVideo\");","map":{"version":3,"names":["React","useEffect","useState","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","AwarenessVideo","script","onComplete","isVisible","_s","isSpeaking","setIsSpeaking","displayedText","setDisplayedText","speechRef","startVideo","stopVideo","window","speechSynthesis","console","error","cancel","utterance","SpeechSynthesisUtterance","rate","pitch","volume","voices","getVoices","preferredVoice","find","v","name","includes","lang","voice","onstart","typeWriterEffect","onend","setTimeout","onerror","e","current","speak","text","i","interval","setInterval","prev","charAt","length","clearInterval","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/Documents/Vodafone/Project/frontend/src/components/AwarenessVideo.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\n\r\nconst AwarenessVideo = ({ script, onComplete, isVisible }) => {\r\n  const [isSpeaking, setIsSpeaking] = useState(false);\r\n  const [displayedText, setDisplayedText] = useState('');\r\n  const speechRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (isVisible && script) {\r\n      startVideo();\r\n    } else {\r\n      stopVideo();\r\n    }\r\n    return () => stopVideo();\r\n  }, [isVisible, script]);\r\n\r\n  const startVideo = () => {\r\n    if (!window.speechSynthesis) {\r\n      console.error(\"Web Speech API not supported\");\r\n      onComplete();\r\n      return;\r\n    }\r\n\r\n    // Cancel any ongoing speech\r\n    window.speechSynthesis.cancel();\r\n\r\n    const utterance = new SpeechSynthesisUtterance(script);\r\n    utterance.rate = 1.0;\r\n    utterance.pitch = 1.0;\r\n    utterance.volume = 1.0;\r\n\r\n    // Try to select a good voice\r\n    const voices = window.speechSynthesis.getVoices();\r\n    const preferredVoice = voices.find(v => v.name.includes('Google US English') || v.name.includes('Microsoft Zira') || v.lang === 'en-US');\r\n    if (preferredVoice) utterance.voice = preferredVoice;\r\n\r\n    utterance.onstart = () => {\r\n      setIsSpeaking(true);\r\n      typeWriterEffect(script);\r\n    };\r\n\r\n    utterance.onend = () => {\r\n      setIsSpeaking(false);\r\n      setTimeout(onComplete, 2000); // Wait a bit before closing\r\n    };\r\n\r\n    utterance.onerror = (e) => {\r\n      console.error(\"Speech synthesis error\", e);\r\n      setIsSpeaking(false);\r\n      onComplete();\r\n    };\r\n\r\n    speechRef.current = utterance;\r\n    // Small delay to ensure voices are loaded\r\n    setTimeout(() => window.speechSynthesis.speak(utterance), 100);\r\n  };\r\n\r\n  const stopVideo = () => {\r\n    if (window.speechSynthesis) {\r\n      window.speechSynthesis.cancel();\r\n    }\r\n    setIsSpeaking(false);\r\n    setDisplayedText('');\r\n  };\r\n\r\n  const typeWriterEffect = (text) => {\r\n    let i = 0;\r\n    setDisplayedText('');\r\n    const interval = setInterval(() => {\r\n      setDisplayedText((prev) => prev + text.charAt(i));\r\n      i++;\r\n      if (i >= text.length) clearInterval(interval);\r\n    }, 50); // Adjust speed to match roughly with speech\r\n  };\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-90 flex flex-col items-center justify-center z-50 p-4\">\r\n      {/* AI Avatar Animation */}\r\n      <div className=\"relative mb-8\">\r\n        <div className={`w-32 h-32 rounded-full border-4 border-blue-500 flex items-center justify-center ${isSpeaking ? 'animate-pulse' : ''} shadow-[0_0_50px_rgba(59,130,246,0.5)]`}>\r\n          <div className={`w-24 h-24 rounded-full bg-blue-600 flex items-center justify-center relative overflow-hidden`}>\r\n            <div className=\"absolute inset-0 bg-gradient-to-tr from-cyan-400 to-blue-600 opacity-80\"></div>\r\n            {/* Eye */}\r\n            <div className={`w-16 h-4 bg-white rounded-full shadow-[0_0_20px_white] transition-all duration-100 ${isSpeaking ? 'h-8' : 'h-1'}`}></div>\r\n          </div>\r\n        </div>\r\n        {/* Sound waves */}\r\n        {isSpeaking && (\r\n          <>\r\n            <div className=\"absolute inset-0 rounded-full border border-cyan-400 animate-ping opacity-20\"></div>\r\n            <div className=\"absolute inset-[-20px] rounded-full border border-cyan-400 animate-ping opacity-10 animation-delay-200\"></div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Captions */}\r\n      <div className=\"max-w-2xl w-full bg-gray-900 bg-opacity-80 p-6 rounded-xl border border-gray-700 min-h-[150px] flex items-center justify-center\">\r\n        <p className=\"text-xl text-cyan-300 font-mono text-center leading-relaxed\">\r\n          {displayedText}\r\n          <span className=\"animate-pulse\">|</span>\r\n        </p>\r\n      </div>\r\n\r\n      <button\r\n        onClick={() => { stopVideo(); onComplete(); }}\r\n        className=\"mt-8 px-6 py-2 bg-gray-800 hover:bg-gray-700 text-gray-400 rounded-full text-sm transition-colors border border-gray-600\"\r\n      >\r\n        Skip Video\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AwarenessVideo;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}