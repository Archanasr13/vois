{"ast":null,"code":"// API service using axios if available; falls back to fetch when axios is not installed.\n// Axios baseURL is intentionally set to http://localhost:5000 to point to the Flask backend.\n// Prefer axios when loaded globally (e.g. developer installed it); avoid\n// requiring it at build-time to prevent webpack/bundler errors when axios\n// isn't present. To enable axios behavior, `npm install axios` and expose\n// it on `window.axios` or import it and replace the conditional below.\nlet axiosInstance = null;\nconst useAxios = typeof window !== 'undefined' && window.axios;\nif (useAxios) axiosInstance = window.axios.create({\n  baseURL: 'http://localhost:5000'\n});\nconst handleFetchResponse = async res => {\n  const contentType = res.headers.get('content-type') || '';\n  if (!res.ok) {\n    const text = await res.text();\n    let errorData;\n    try {\n      errorData = JSON.parse(text);\n    } catch {\n      errorData = {\n        message: text || `HTTP ${res.status}`\n      };\n    }\n    const err = new Error(errorData.message || text || `HTTP ${res.status}`);\n    err.status = res.status;\n    err.data = errorData;\n    throw err;\n  }\n  if (contentType.includes('application/json')) return res.json();\n  if (contentType.includes('application/pdf') || contentType.includes('application/octet-stream')) return res.blob();\n  return res.text();\n};\n\n// Helper wrappers\nconst post = async (path, data) => {\n  if (useAxios && axiosInstance) {\n    const res = await axiosInstance.post(path, data);\n    return res.data;\n  }\n  const res = await fetch(`http://localhost:5000${path}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data || {})\n  });\n  return handleFetchResponse(res);\n};\nconst get = async path => {\n  if (useAxios && axiosInstance) {\n    const res = await axiosInstance.get(path);\n    return res.data;\n  }\n  const res = await fetch(`http://localhost:5000${path}`);\n  return handleFetchResponse(res);\n};\n\n// Exported API methods\nexport const authRegister = payload => post('/api/auth/register', payload);\nexport const authLogin = payload => post('/api/auth/login', payload);\n\n// Phishing and simulations\nexport const getPhishingSimulation = params => get(`/api/phishing/simulate?${new URLSearchParams(params || {}).toString()}`);\nexport const trackPhishingClick = payload => post('/api/phishing/click', payload);\nexport const getRandomSimulation = params => get(`/api/simulate_attack?${new URLSearchParams(params).toString()}`);\nexport const submitSimulation = payload => post('/api/submit_interaction', payload);\n\n// Risk & health profiles\nexport const getUserRiskProfile = userId => get(`/api/health/user/${userId}`);\nexport const getOrganizationHealth = () => get('/api/health/organization');\nexport const getAwarenessContent = params => get(`/api/awareness/video?${new URLSearchParams(params).toString()}`);\nexport const getQuizQuestions = params => get(`/api/get_quiz_questions?${new URLSearchParams(params).toString()}`);\nexport const submitQuiz = payload => post('/api/submit_quiz', payload);\nexport const checkCertificateEligibility = params => get(`/api/certificate/check?${new URLSearchParams(params).toString()}`);\nexport const requestCertificate = async payload => {\n  // Certificate returns PDF blob, so handle it specially\n  const res = await fetch(`http://localhost:5000/api/certificate`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload || {})\n  });\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(text || `HTTP ${res.status}`);\n  }\n  return res.blob();\n};\nexport const getDashboardData = () => get('/api/get_dashboard_data');\nexport const getUser = id => get(`/api/user/${id}`);\nexport const getAIReport = params => post('/api/ai/report', params || {});\nexport const requestAIQuiz = payload => post('/api/ai/quiz', payload);\nexport const requestAIAwareness = payload => post('/api/ai/awareness', payload);\nexport const getAIAwarenessScript = payload => post('/api/ai/awareness', payload);\nexport const healthCheck = () => get('/api/health');\nexport default {\n  authRegister,\n  authLogin,\n  getPhishingSimulation,\n  trackPhishingClick,\n  getRandomSimulation,\n  submitSimulation,\n  getUserRiskProfile,\n  getOrganizationHealth,\n  getAwarenessContent,\n  getQuizQuestions,\n  submitQuiz,\n  checkCertificateEligibility,\n  requestCertificate,\n  getDashboardData,\n  getUser,\n  getAIReport,\n  requestAIQuiz,\n  requestAIAwareness,\n  healthCheck\n};","map":{"version":3,"names":["axiosInstance","useAxios","window","axios","create","baseURL","handleFetchResponse","res","contentType","headers","get","ok","text","errorData","JSON","parse","message","status","err","Error","data","includes","json","blob","post","path","fetch","method","body","stringify","authRegister","payload","authLogin","getPhishingSimulation","params","URLSearchParams","toString","trackPhishingClick","getRandomSimulation","submitSimulation","getUserRiskProfile","userId","getOrganizationHealth","getAwarenessContent","getQuizQuestions","submitQuiz","checkCertificateEligibility","requestCertificate","getDashboardData","getUser","id","getAIReport","requestAIQuiz","requestAIAwareness","getAIAwarenessScript","healthCheck"],"sources":["C:/Users/LENOVO/Documents/Vodafone/Project/frontend/src/services/api.js"],"sourcesContent":["// API service using axios if available; falls back to fetch when axios is not installed.\n// Axios baseURL is intentionally set to http://localhost:5000 to point to the Flask backend.\n// Prefer axios when loaded globally (e.g. developer installed it); avoid\n// requiring it at build-time to prevent webpack/bundler errors when axios\n// isn't present. To enable axios behavior, `npm install axios` and expose\n// it on `window.axios` or import it and replace the conditional below.\nlet axiosInstance = null;\nconst useAxios = (typeof window !== 'undefined' && window.axios);\nif (useAxios) axiosInstance = window.axios.create({ baseURL: 'http://localhost:5000' });\n\nconst handleFetchResponse = async (res) => {\n  const contentType = res.headers.get('content-type') || '';\n  if (!res.ok) {\n    const text = await res.text();\n    let errorData;\n    try {\n      errorData = JSON.parse(text);\n    } catch {\n      errorData = { message: text || `HTTP ${res.status}` };\n    }\n    const err = new Error(errorData.message || text || `HTTP ${res.status}`);\n    err.status = res.status;\n    err.data = errorData;\n    throw err;\n  }\n  if (contentType.includes('application/json')) return res.json();\n  if (contentType.includes('application/pdf') || contentType.includes('application/octet-stream')) return res.blob();\n  return res.text();\n};\n\n// Helper wrappers\nconst post = async (path, data) => {\n  if (useAxios && axiosInstance) {\n    const res = await axiosInstance.post(path, data);\n    return res.data;\n  }\n  const res = await fetch(`http://localhost:5000${path}`, {\n    method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data || {})\n  });\n  return handleFetchResponse(res);\n};\n\nconst get = async (path) => {\n  if (useAxios && axiosInstance) {\n    const res = await axiosInstance.get(path);\n    return res.data;\n  }\n  const res = await fetch(`http://localhost:5000${path}`);\n  return handleFetchResponse(res);\n};\n\n// Exported API methods\nexport const authRegister = (payload) => post('/api/auth/register', payload);\nexport const authLogin = (payload) => post('/api/auth/login', payload);\n\n// Phishing and simulations\nexport const getPhishingSimulation = (params) => get(`/api/phishing/simulate?${new URLSearchParams(params || {}).toString()}`);\nexport const trackPhishingClick = (payload) => post('/api/phishing/click', payload);\nexport const getRandomSimulation = (params) => get(`/api/simulate_attack?${new URLSearchParams(params).toString()}`);\nexport const submitSimulation = (payload) => post('/api/submit_interaction', payload);\n\n// Risk & health profiles\nexport const getUserRiskProfile = (userId) => get(`/api/health/user/${userId}`);\nexport const getOrganizationHealth = () => get('/api/health/organization');\n\nexport const getAwarenessContent = (params) => get(`/api/awareness/video?${new URLSearchParams(params).toString()}`);\nexport const getQuizQuestions = (params) => get(`/api/get_quiz_questions?${new URLSearchParams(params).toString()}`);\nexport const submitQuiz = (payload) => post('/api/submit_quiz', payload);\nexport const checkCertificateEligibility = (params) => get(`/api/certificate/check?${new URLSearchParams(params).toString()}`);\nexport const requestCertificate = async (payload) => {\n  // Certificate returns PDF blob, so handle it specially\n  const res = await fetch(`http://localhost:5000/api/certificate`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload || {})\n  });\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(text || `HTTP ${res.status}`);\n  }\n  return res.blob();\n};\nexport const getDashboardData = () => get('/api/get_dashboard_data');\nexport const getUser = (id) => get(`/api/user/${id}`);\n\nexport const getAIReport = (params) => post('/api/ai/report', params || {});\nexport const requestAIQuiz = (payload) => post('/api/ai/quiz', payload);\nexport const requestAIAwareness = (payload) => post('/api/ai/awareness', payload);\nexport const getAIAwarenessScript = (payload) => post('/api/ai/awareness', payload);\n\nexport const healthCheck = () => get('/api/health');\n\nexport default {\n  authRegister,\n  authLogin,\n  getPhishingSimulation,\n  trackPhishingClick,\n  getRandomSimulation,\n  submitSimulation,\n  getUserRiskProfile,\n  getOrganizationHealth,\n  getAwarenessContent,\n  getQuizQuestions,\n  submitQuiz,\n  checkCertificateEligibility,\n  requestCertificate,\n  getDashboardData,\n  getUser,\n  getAIReport,\n  requestAIQuiz,\n  requestAIAwareness,\n  healthCheck\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}