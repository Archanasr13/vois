{"ast":null,"code":"// API service using axios if available; falls back to fetch when axios is not installed.\n// Axios baseURL is intentionally set to http://localhost:5000 to point to the Flask backend.\n// Prefer axios when loaded globally (e.g. developer installed it); avoid\n// requiring it at build-time to prevent webpack/bundler errors when axios\n// isn't present. To enable axios behavior, `npm install axios` and expose\n// it on `window.axios` or import it and replace the conditional below.\nlet axiosInstance = null;\nconst useAxios = typeof window !== 'undefined' && window.axios;\nif (useAxios) axiosInstance = window.axios.create({\n  baseURL: 'http://localhost:5000'\n});\nconst handleFetchResponse = async res => {\n  const contentType = res.headers.get('content-type') || '';\n  if (!res.ok) {\n    const text = await res.text();\n    const err = new Error(text || `HTTP ${res.status}`);\n    err.status = res.status;\n    throw err;\n  }\n  if (contentType.includes('application/json')) return res.json();\n  if (contentType.includes('application/pdf') || contentType.includes('application/octet-stream')) return res.blob();\n  return res.text();\n};\n\n// Helper wrappers\nconst post = async (path, data) => {\n  if (useAxios && axiosInstance) {\n    const res = await axiosInstance.post(path, data);\n    return res.data;\n  }\n  const res = await fetch(`http://localhost:5000${path}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data || {})\n  });\n  return handleFetchResponse(res);\n};\nconst get = async path => {\n  if (useAxios && axiosInstance) {\n    const res = await axiosInstance.get(path);\n    return res.data;\n  }\n  const res = await fetch(`http://localhost:5000${path}`);\n  return handleFetchResponse(res);\n};\n\n// Exported API methods\nexport const authRegister = payload => post('/api/auth/register', payload);\nexport const authLogin = payload => post('/api/auth/login', payload);\nexport const getRandomSimulation = params => get(`/api/simulate_attack?${new URLSearchParams(params).toString()}`);\nexport const submitSimulation = payload => post('/api/submit_interaction', payload);\nexport const getAwarenessContent = params => get(`/api/awareness/video?${new URLSearchParams(params).toString()}`);\nexport const getQuizQuestions = params => get(`/api/get_quiz_questions?${new URLSearchParams(params).toString()}`);\nexport const submitQuiz = payload => post('/api/submit_quiz', payload);\nexport const checkCertificateEligibility = params => get(`/api/certificate/check?${new URLSearchParams(params).toString()}`);\nexport const requestCertificate = payload => post('/api/certificate', payload);\nexport const getDashboardData = () => get('/api/get_dashboard_data');\nexport const getUser = id => get(`/api/user/${id}`);\nexport const getAIReport = params => post('/api/ai/report', params || {});\nexport const requestAIQuiz = payload => post('/api/ai/quiz', payload);\nexport const requestAIAwareness = payload => post('/api/ai/awareness', payload);\nexport const healthCheck = () => get('/api/health');\nexport default {\n  authRegister,\n  authLogin,\n  getRandomSimulation,\n  submitSimulation,\n  getAwarenessContent,\n  getQuizQuestions,\n  submitQuiz,\n  checkCertificateEligibility,\n  requestCertificate,\n  getDashboardData,\n  getUser,\n  getAIReport,\n  requestAIQuiz,\n  requestAIAwareness,\n  healthCheck\n};","map":{"version":3,"names":["axiosInstance","useAxios","window","axios","create","baseURL","handleFetchResponse","res","contentType","headers","get","ok","text","err","Error","status","includes","json","blob","post","path","data","fetch","method","body","JSON","stringify","authRegister","payload","authLogin","getRandomSimulation","params","URLSearchParams","toString","submitSimulation","getAwarenessContent","getQuizQuestions","submitQuiz","checkCertificateEligibility","requestCertificate","getDashboardData","getUser","id","getAIReport","requestAIQuiz","requestAIAwareness","healthCheck"],"sources":["C:/Users/LENOVO/Documents/Vodafone/Project/frontend/src/services/api.js"],"sourcesContent":["// API service using axios if available; falls back to fetch when axios is not installed.\r\n// Axios baseURL is intentionally set to http://localhost:5000 to point to the Flask backend.\r\n// Prefer axios when loaded globally (e.g. developer installed it); avoid\r\n// requiring it at build-time to prevent webpack/bundler errors when axios\r\n// isn't present. To enable axios behavior, `npm install axios` and expose\r\n// it on `window.axios` or import it and replace the conditional below.\r\nlet axiosInstance = null;\r\nconst useAxios = (typeof window !== 'undefined' && window.axios);\r\nif (useAxios) axiosInstance = window.axios.create({ baseURL: 'http://localhost:5000' });\r\n\r\nconst handleFetchResponse = async (res) => {\r\n  const contentType = res.headers.get('content-type') || '';\r\n  if (!res.ok) {\r\n    const text = await res.text();\r\n    const err = new Error(text || `HTTP ${res.status}`);\r\n    err.status = res.status;\r\n    throw err;\r\n  }\r\n  if (contentType.includes('application/json')) return res.json();\r\n  if (contentType.includes('application/pdf') || contentType.includes('application/octet-stream')) return res.blob();\r\n  return res.text();\r\n};\r\n\r\n// Helper wrappers\r\nconst post = async (path, data) => {\r\n  if (useAxios && axiosInstance) {\r\n    const res = await axiosInstance.post(path, data);\r\n    return res.data;\r\n  }\r\n  const res = await fetch(`http://localhost:5000${path}`, {\r\n    method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data || {})\r\n  });\r\n  return handleFetchResponse(res);\r\n};\r\n\r\nconst get = async (path) => {\r\n  if (useAxios && axiosInstance) {\r\n    const res = await axiosInstance.get(path);\r\n    return res.data;\r\n  }\r\n  const res = await fetch(`http://localhost:5000${path}`);\r\n  return handleFetchResponse(res);\r\n};\r\n\r\n// Exported API methods\r\nexport const authRegister = (payload) => post('/api/auth/register', payload);\r\nexport const authLogin = (payload) => post('/api/auth/login', payload);\r\nexport const getRandomSimulation = (params) => get(`/api/simulate_attack?${new URLSearchParams(params).toString()}`);\r\nexport const submitSimulation = (payload) => post('/api/submit_interaction', payload);\r\nexport const getAwarenessContent = (params) => get(`/api/awareness/video?${new URLSearchParams(params).toString()}`);\r\nexport const getQuizQuestions = (params) => get(`/api/get_quiz_questions?${new URLSearchParams(params).toString()}`);\r\nexport const submitQuiz = (payload) => post('/api/submit_quiz', payload);\r\nexport const checkCertificateEligibility = (params) => get(`/api/certificate/check?${new URLSearchParams(params).toString()}`);\r\nexport const requestCertificate = (payload) => post('/api/certificate', payload);\r\nexport const getDashboardData = () => get('/api/get_dashboard_data');\r\nexport const getUser = (id) => get(`/api/user/${id}`);\r\n\r\nexport const getAIReport = (params) => post('/api/ai/report', params || {});\r\nexport const requestAIQuiz = (payload) => post('/api/ai/quiz', payload);\r\nexport const requestAIAwareness = (payload) => post('/api/ai/awareness', payload);\r\n\r\nexport const healthCheck = () => get('/api/health');\r\n\r\nexport default { \r\n  authRegister, \r\n  authLogin, \r\n  getRandomSimulation, \r\n  submitSimulation, \r\n  getAwarenessContent,\r\n  getQuizQuestions,\r\n  submitQuiz,\r\n  checkCertificateEligibility,\r\n  requestCertificate, \r\n  getDashboardData,\r\n  getUser,\r\n  getAIReport, \r\n  requestAIQuiz, \r\n  requestAIAwareness, \r\n  healthCheck \r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}